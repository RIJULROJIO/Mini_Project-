{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Finance Centre</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #dbdf9c;
    }

    .container {
      display: flex;
      justify-content: space-between;
      max-width: 800px;
      margin: 0 auto;
    }

    .calculator-container,
    .form-container {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      width: 48%; /* Adjusted width */
      max-height: 400px; /* Adjusted max height */
      overflow-y: auto; /
    }

    h2, h1 {
      color: #333;
      text-align: center;
    }

    .calculator-container label,
    .form-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .calculator-container input,
    .calculator-container button,
    .form-control,
    .button {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-bottom: 10px;
      box-sizing: border-box;
    }

    .calculator-container button,
    .button {
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      font-weight: bold;
      transition: background-color 0.2s ease-in-out;
    }

    .calculator-container button:hover,
    .button:hover {
      background-color: #45A049;
    }

    #emi {
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      margin-top: 10px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group select,
    .form-group textarea,
    .form-group input[type="text"],
    .form-group input[type="number"],
    .form-group input[type="email"],
    .form-group input[type="tel"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-sizing: border-box;
    }

    footer {
            background-color: #ead673; /* Dark background color */
            color: #0a0707;
            text-align: center;
            padding: 1px;
            position: bottom;
            bottom: 0;
            width: 100%;
        }
        header nav a {
            text-decoration: none;
            color: #fff;
            font-weight: bold;
            background-color: #00796B;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        header nav a:hover {
            background-color: #005950;
        }
/* Add this CSS code to the <style> section in the head of your HTML document or in an external stylesheet */

    .user-application-container {
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
  max-width: 500px;
  margin: 0 auto;
}

.user-application-container h2 {
  color: #333;
  text-align: center;
}

.user-application-container p {
  margin-bottom: 10px;
}

.user-application-container strong {
  font-weight: bold;
}

.user-application-container {
  width: 100%;
  box-sizing: border-box;
}
/* Add this CSS code to the <style> section in the head of your HTML document or in an external stylesheet */

    .user-application-container .status {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 20px;
}

.user-application-container .status span {
  padding: 8px;
  border-radius: 5px;
  font-weight: bold;
  text-align: center;
}

/* Status styles for different states */
.user-application-container .status .submitted {
  background-color: #38f10e;
  color: #fff;
}

.user-application-container .status .approved {
  background-color: #2ecc71;
  color: #fff;
}

.user-application-container .status .rejected {
  background-color: #e74c3c;
  color: #fff;
}


/* Add this CSS code to the <style> section in the head of your HTML document or in an external stylesheet */

  .form-group input[type="file"] {
  display: block;
  margin-top: 5px;
}

.form-group small {
  display: block;
  margin-top: 5px;
  color: #888;
}



    
  </style>
  <link rel="shortcut icon" href="{% static "images/Key.png" %}" type="">
  <header>
    <nav>
    <a href="{% url 'tenantpg' %}" style="color: black; float:left; margin-right: 10px;">Back</a></nav>

  </header>

</head>

<body>
    <h1 style="color: black;">Finance Center - Find Your Right Loan Provider</h1>
  <div class="container">
    <div class="calculator-container">
      <h2>EMI Calculator</h2>
      <label for="principal">Loan Amount (₹):</label>
      <input type="number" id="principal" placeholder="Enter Loan Amount">
      <label for="rate">Interest Rate (%):</label>
      <input type="number" id="rate" placeholder="Enter Interest Rate">
      <label for="time">Loan Tenure (Years):</label>
      <input type="number" id="time" placeholder="Enter Loan Tenure">
      <button onclick="calculate()">Calculate EMI</button>
      <p id="emi">Monthly Payment (EMI): </p>
    </div>
    

    <div class="form-container">
      <h1>Home Loan Application</h1>
      <form action="#" method="post">
        {% csrf_token %}

        <div class="form-group">
          <label for="applicant_name">Applicant Details</label>
          <input type="text" id="applicant_name" name="applicant_name" placeholder="Enter your name">
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <textarea id="address" name="address" placeholder="Enter your address"></textarea>
        </div>
        <div class="form-group">
            <label for="state">State</label>
            <select id="state" name="state"></select>
          </div>
          <div class="form-group">
            <label for="district">District</label>
            <input type="text" id="district" name="district" placeholder="District">
        </div>
        <div class="form-group">
          <label for="telephone">phone</label>
          <input type="tel" id="telephone" name="telephone" placeholder="Enter your phone number">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="Enter your email address">
        </div>
        <div class="form-group">
          <label for="age">Age (Yrs)</label>
          <input type="number" id="age" name="age" placeholder="Enter your age">
        </div>
        <div class="form-group">
          <label for="occupation">Occupation</label>
          <select id="occupation" name="occupation">
            <option value="">Select Occupation</option>
            <option value="Employed">Employed</option>
            <option value="Self-employed">Self-employed</option>
            <option value="Retired">Retired</option>
          </select>
        </div>
        <div class="form-group">
          <label for="loan_amount">Loan Amount</label>
          <input type="number" id="loan_amount" name="loan_amount" placeholder="Enter the loan amount">
        </div>
        <div class="form-group">
            <label for="property_address">Location of Property</label>
            <select id="property_address" name="property_address">
                <option value="">Select Property Address</option>
                {% for property in properties %}
                    <option value="{{ property.address }}">{{ property.address }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
          <label for="nearest_bank">Nearest Bank</label>
          <select id="nearest_bank" name="nearest_bank">
            <option value="">Select Nearest Bank</option>
          </select>
        </div>
        <div class="form-group">
          <label for="net_monthly_income">Net Monthly Income (₹)</label>
          <input type="number" id="net_monthly_income" name="net_monthly_income" placeholder="Enter Net Monthly Income">
        </div>
        
        <button type="submit" class="button">Submit Application</button>
      </form>

      
    </div>
    <!-- Add this section at the end of the body -->

  


  </div>
  
  <script>
    function calculateEMI(p, r, t) {
      var emi = (p * r * Math.pow(1 + r, t)) / (Math.pow(1 + r, t) - 1);
      return emi;
    }

    function getInputValues() {
      var principal = document.getElementById("principal").value;
      var rate = document.getElementById("rate").value;
      var time = document.getElementById("time").value;
      return {
        principal: principal,
        rate: rate,
        time: time,
      };
    }

    function setEMI(emi) {
      document.getElementById("emi").innerHTML = "Monthly Payment (EMI): " + emi.toFixed(2);
    }

    function calculate() {
      var inputValues = getInputValues();
      var principal = parseFloat(inputValues.principal);
      var rate = parseFloat(inputValues.rate) / (12 * 100);
      var time = parseFloat(inputValues.time) * 12;
      var emi = calculateEMI(principal, rate, time);
      setEMI(emi);
    }
    var indianStates = [
    'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh', 'Goa', 'Gujarat',
    'Haryana', 'Himachal Pradesh', 'Jharkhand', 'Karnataka', 'Kerala', 'Madhya Pradesh', 'Maharashtra',
    'Manipur', 'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Punjab', 'Rajasthan', 'Sikkim', 'Tamil Nadu',
    'Telangana', 'Tripura', 'Uttar Pradesh', 'Uttarakhand', 'West Bengal', 'Andaman and Nicobar Islands',
    'Chandigarh', 'Dadra and Nagar Haveli and Daman and Diu', 'Delhi', 'Lakshadweep', 'Puducherry'
  ];

  // Function to populate the state dropdown
  function populateStates() {
    var stateDropdown = document.getElementById('state');
    indianStates.forEach(function (state) {
      var option = document.createElement('option');
      option.value = state;
      option.textContent = state;
      stateDropdown.appendChild(option);
    });
  }

  // Call the initial population of states
  populateStates();
  var indianBanks = [
    'State Bank of India', 'HDFC Bank', 'ICICI Bank', 'Punjab National Bank', 'Axis Bank',
    'Canara Bank', 'Bank of Baroda', 'Union Bank of India', 'IDBI Bank', 'Central Bank of India',
    'Indian Bank', 'Bank of India', 'UCO Bank', 'Yes Bank', 'Kotak Mahindra Bank',
    'IndusInd Bank', 'Federal Bank', 'IDFC First Bank', 'RBL Bank', 'South Indian Bank',
    'Bandhan Bank', 'Punjab and Sind Bank', 'Karur Vysya Bank', 'Dhanlaxmi Bank', 'City Union Bank',
    'Jammu and Kashmir Bank', 'Nainital Bank', 'United Bank of India', 'Vijaya Bank', 'Oriental Bank of Commerce',
    'Syndicate Bank', 'Corporation Bank', 'Andhra Bank', 'Allahabad Bank', 'UCO Bank', 'Bank of Maharashtra',
    'Indian Overseas Bank', 'Dena Bank', 'Catholic Syrian Bank', 'Lakshmi Vilas Bank', 'Karnataka Bank',
    'Karur Vysya Bank', 'DCB Bank', 'Kotak Mahindra Bank', 'IndusInd Bank', 'Bandhan Bank'
  ];

  // Function to populate the nearest bank dropdown
  function populateBanks() {
    var bankDropdown = document.getElementById('nearest_bank');
    indianBanks.forEach(function (bank) {
      var option = document.createElement('option');
      option.value = bank;
      option.textContent = bank;
      bankDropdown.appendChild(option);
    });
  }

  // Call the initial population of banks
  populateBanks();
   
  </script>
  <!-- Add this section where you want to display the user's loan application details -->
<div class="user-application-container">
    <h2>Your Loan Application</h2>
    {% if user_loan_application %}
      <!-- <p><strong>Status:</strong> {{ user_loan_application.get_status_display }}</p> -->
      <p><strong>Applicant Name:</strong> {{ user_loan_application.applicant_name }}</p>
      <p><strong>Address:</strong> {{ user_loan_application.address }}</p>
      <p><strong>State:</strong> {{ user_loan_application.state }}</p>
      <p><strong>District:</strong> {{ user_loan_application.district }}</p>
      <p><strong>Phone:</strong> {{ user_loan_application.telephone }}</p>
      <p><strong>Email:</strong> {{ user_loan_application.email }}</p>
      <p><strong>Age:</strong> {{ user_loan_application.age }}</p>
      <p><strong>Occupation:</strong> {{ user_loan_application.get_occupation_display }}</p>
      <p><strong>Loan Amount:</strong> ₹{{ user_loan_application.loan_amount }}</p>
      <p><strong>Property Address:</strong> {{ user_loan_application.property_address }}</p>
      <p><strong>Nearest Bank:</strong> {{ user_loan_application.nearest_bank }}</p>
      <p><strong>Net Monthly Income:</strong> ₹{{ user_loan_application.net_monthly_income }}</p>
      <div class="status">

      <span class="submitted">Application Submitted</span>
    </div>

          <!-- Add this section inside the form-container div -->
                <div class="form-group">
                            <label for="documents">Upload Documents</label>
                                  <input type="file" id="documents" name="documents" multiple accept=".pdf,.doc,.docx,.jpg,.png">
                                    <small>Allowed file types: .pdf, .doc, .docx, .jpg, .png</small>
                </div>



      
      <!-- Add more details as needed -->
    {% else %}
      <p>No loan application submitted.</p>
    {% endif %}
  </div>
  
  <footer>
    <div class="footer-content">
        <div class="footer-section about">
            <h4>About Us</h4>
          <p>We are your premier source for rental properties. Our mission is to help you find the perfect place to call home.</p>
        </div>
        <div class="footer-section contact">
            <h4>Contact Us</h4>
            <p>Email: info@propertyrentals.com</p>
            <p>Phone: +1-123-456-7890</p>
        </div>
        <div class="footer-section links">
           
        </div>
        <div class="footer-section social">
            
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Property Rentals</p>
    </div>
</footer>
</body>

</html>
